{"version":3,"sources":["app.js","detail.js","filters.js","footer.js","goback.js","header.js","home.js","message.js"],"names":["baseWidth","root","document","documentElement","w","clientWidth","fz","style","fontSize","window","angular","module","config","$routeProvider","otherwise","run","$http","defaults","headers","post","Content-Type","when","templateUrl","controller","$scope","$location","html","topicID","search","get","then","res","data","content","err","console","log","history","go","filter","$sce","text","trustAsHtml","directive","restrict","replace","scope","path","navs","tab","changeTab","nav","template","$element","$attrs","$transclude","goBack","title","$timeout","getDatas","timeout","result","topicList","concat","tabs","name","active","changeTopic","showTDetail","id"],"mappings":"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","file":"app.min.js","sourcesContent":["'use strict';\r\n(function rem(baseWidth){\r\n    var root = document.documentElement;\r\n    var w = root.clientWidth;\r\n    w = w > 640 ? 640 : w < 320 ? 320 : w;\r\n    var fz = w / baseWidth * 100;\r\n    root.style.fontSize = fz + \"px\";\r\n}(375));\r\n\r\n// 加 window 避免 eslint 报错\r\nwindow.angular.module('myApp', [\r\n    'ngRoute',\r\n    'ngAnimate',\r\n    'myApp.start',\r\n    'myApp.msg',\r\n    'myApp.detail',\r\n    'myApp.filtes', // 所有的指令模块\r\n    'dir.footer',\r\n    'dir.header',\r\n    'dir.goback',\r\n    // 'myApp.detail',\r\n    // 'myApp.order',\r\n    // 'myApp.orderList'\r\n  ])\r\n  .config(['$routeProvider', function($routeProvider) {\r\n    $routeProvider.otherwise('/home');\r\n  }])\r\n\r\n  .run(['$http', function($http){\r\n    $http.defaults.headers.post = {'Content-Type' : 'application/x-www-form-urlencoded'};\r\n\r\n  }])\r\n","'use strict';\r\n\r\nwindow.angular.module('myApp.detail', ['ngRoute','ngAnimate'])\r\n  .config(['$routeProvider', function($routeProvider) {\r\n    $routeProvider\r\n      .when('/detail', {\r\n      templateUrl: 'tpl/detail.html',\r\n      controller: 'detailCtrl'\r\n    });\r\n  }])\r\n\r\n  .controller('detailCtrl', ['$scope', '$http', '$location', function($scope, $http, $location) {\r\n    $scope.html = '';\r\n    // 获取 topic id 编号\r\n    var topicID = $location.search().topicID;\r\n    // 如果 有路由参数传过来，就请求数据，容错处理 if else\r\n    if (topicID) {\r\n      $http.get('https://cnodejs.org/api/v1/topic/' + topicID + '?mdrender=true')\r\n        .then(function(res) {\r\n          $scope.html = res.data.data.content;\r\n        }, function(err) {\r\n          /* eslint-disable no-console*/\r\n          console.log(err);\r\n          /* eslint-enable no-console */\r\n        });\r\n    } else {\r\n      // 如果没有id ，就返回前一页\r\n      // 使用 浏览器 默认 返回  history.go(-1) , -1:表示后退一步\r\n      window.history.go(-1);\r\n    }\r\n  }])\r\n","'use strict';\r\n\r\nwindow.angular.module('myApp.filtes', ['ngRoute','ngAnimate'])\r\n.filter('to_trusted', ['$sce', function ($sce) {\r\n  return function (text) {\r\n    return $sce.trustAsHtml(text);\r\n  };\r\n}]);\r\n","'use strict';\r\n\r\nwindow.angular.module('dir.footer', ['ngRoute', 'ngAnimate'])\r\n  .directive('ngFooter', ['$location', function($location) {\r\n    return {\r\n      restrict: 'AE',\r\n      replace: true,\r\n      scope: {},\r\n      templateUrl: './tpl/footer.html',\r\n      controller: ['$scope', function($scope) {\r\n        // 用于判断当前处于哪个 tab页，给对应的tab 导航键 加激活样式\r\n        $scope.path = $location.path();\r\n        // 导航\r\n        $scope.navs = [\r\n          { tab: 'home', path: '/home' },\r\n          { tab: 'msg', path: '/msg' },\r\n          { tab: 'publish', path: '/publish' },\r\n          { tab: 'user', path: '/user' }\r\n        ];\r\n        // 切换导航时，更换路由\r\n        $scope.changeTab = function (nav) {\r\n          $location.path(nav.path);\r\n        }\r\n\r\n      }]\r\n      // link: function ($scope, elm, attr, controller) {\r\n      //\r\n      // }\r\n    }\r\n  }])\r\n","'use strict';\r\n\r\nwindow.angular.module('dir.goback', ['ngRoute','ngAnimate'])\r\n  .directive('ngGoBack', [function() {\r\n    return {\r\n      restrict: 'AE',\r\n      scope: {},\r\n      replace: true,\r\n      template: '<div class=\"go-back\" ng-click=\"goBack()\">返回</div>',\r\n      // link: function ($scope, elm, attr, controller) {\r\n      // },\r\n      controller: ['$scope', '$element', '$attrs', '$transclude', function($scope, $element, $attrs, $transclude) {\r\n        $scope.goBack = function() {\r\n          window.history.go(-1);\r\n        }\r\n      }],\r\n    }\r\n  }])\r\n","'use strict';\r\n\r\nwindow.angular.module('dir.header', ['ngRoute','ngAnimate'])\r\n  .directive('ngHeader', [function() {\r\n    return {\r\n      restrict: 'E',\r\n      scope: {},\r\n      replace: true,\r\n      templateUrl: './tpl/header.html',\r\n      // link: function ($scope, elm, attr, controller) {\r\n      // }, , $element, $attrs, $transclude\r\n      controller: ['$scope', function($scope) {\r\n        $scope.title = 'header';\r\n      }],\r\n    }\r\n  }])\r\n","'use strict';\r\n\r\n// 加 window 避免 eslint 报错\r\nwindow.angular.module('myApp.start', ['ngRoute','ngAnimate'])\r\n\r\n.config(['$routeProvider', function($routeProvider) {\r\n  $routeProvider.when('/home', {\r\n    templateUrl: 'tpl/home.html',\r\n    controller: 'homeCtrl'\r\n  });\r\n}])\r\n\r\n.controller('homeCtrl', ['$scope', '$http', '$timeout', '$location', function($scope, $http, $timeout, $location) {\r\n  // 封装一个 获取后台数据的方法\r\n  function getDatas(tab) { // tab用于切换不同tab时，\r\n    $http.get('https://cnodejs.org/api/v1/topics?page=1&tab=' + tab + '&limit=10', {\"timeout\": 3000})\r\n    .then(function(result) {\r\n      $scope.topicList = $scope.topicList.concat(result.data.data);\r\n    }, function(err){\r\n      /* eslint-disable no-console */\r\n      console.log(err);\r\n      /* eslint-enable no-console */\r\n    });\r\n  }\r\n  // 初次请求 （此方法 并不太推荐使用，$timeout 跟settimeout一样，会等其他程序都跑完才会执行，可能会出现空白）\r\n  $timeout(function () {\r\n    getDatas('');\r\n  }, 0);\r\n\r\n  // 主题导航\r\n  $scope.tabs = [\r\n    { tab: '', name: '全部', active: true },\r\n    { tab: 'good', name: '精华', active: false },\r\n    { tab: 'share', name: '分享', active: false },\r\n    { tab: 'ask', name: '问答', active: false },\r\n    { tab: 'job', name: '招聘', active: false },\r\n  ];\r\n  // 切换导航方法\r\n  $scope.changeTopic = function(tab) {\r\n    //\r\n    \r\n  }\r\n  // topicList data\r\n  $scope.topicList = [];\r\n  // 查看topic 详情\r\n  $scope.showTDetail = function(id) {\r\n    // 转跳到详情页\r\n    $location.path('/detail').search({topicID: id});\r\n  }\r\n\r\n}])\r\n","'use strict';\r\n\r\nwindow.angular.module('myApp.msg', ['ngRoute','ngAnimate'])\r\n  .config(['$routeProvider', function($routeProvider) {\r\n    $routeProvider\r\n      .when('/msg', {\r\n      templateUrl: 'tpl/msg.html',\r\n      controller: 'msgCtrl'\r\n    });\r\n  }])\r\n\r\n  .controller('msgCtrl', ['$scope', '$http', '$timeout', function($scope, $http, $timeout) {\r\n\r\n  }])\r\n"]}